.contenedor{
    border: 1px black solid;
    width: 50%;
    height: 50%;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(
     -50%, -50%); 
     padding: 1em;
 }

 .contenedor > div{
    margin:  1em;
    width: calc(33% - 2em);
    height:calc(33% - 2em);
    border: 1px black solid;
    float: left;
   
    
 }

 div:nth-child(n+4)
 {
     background-color: green;
 }
 div:nth-child(n+7)
 {
     background-color: blue;
 }
 div:nth-child(2)
 {
     visibility: hidden;
 }
 div:nth-child(6)
 {
    visibility: hidden;
 }
 div:nth-child(4n)
 {
     display: none;
 }